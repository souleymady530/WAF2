<div class=" " [ngClass]="!is_light_mode? 'dark-container':'bg-white'">
  <div class="row text-center">
    <h1>Liste des agents</h1>
  </div>
<div class="row justify-content-end ">
    <button (click)="add_agent()" class="col-2 btn btn-primary m-3" [ngClass]="!is_light_mode? 'btn dark-btn':' btn btn-primary'">Ajouter</button>
     
</div>
<br>
<div class="row" >
  
    <mat-form-field class="col-4">
        <mat-label>Filter</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Nicolas Cage" #input >
      </mat-form-field>
      
      <div class="main-body"  >
        <table mat-table [dataSource]="data_source" matSort>
      
          <!-- ID Column -->
          <ng-container matColumnDef="#ID">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
            <td mat-cell *matCellDef="let row"> {{row.id}} </td>
          </ng-container>
      
          <!--
            
      "profile_image" ,
      "nic_number" ,
      "phone_number" ,
      "address" ,
      "city",
      "state" ,
      "point",
      "id",
      'actions',
           -->
          <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Username</th>
            <td mat-cell *matCellDef="let row"> {{row.user.username}}  </td>
          </ng-container>

          
          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
            <td mat-cell *matCellDef="let row"> {{row.user.email}}  </td>
          </ng-container>


          <ng-container matColumnDef="first_name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> First Name </th>
            <td mat-cell *matCellDef="let row"> {{row.user.first_name}}  </td>
          </ng-container>
      
          <!-- -->
          <ng-container matColumnDef="last_name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Name </th>
            <td mat-cell *matCellDef="let row"> {{row.user.last_name}}  </td>
          </ng-container>
      
         
          <!-- -->
          <ng-container matColumnDef="phone_number">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Phone Number </th>
            <td mat-cell *matCellDef="let row"> {{row.phone_number}}  </td>
          </ng-container>
          <!-- -->
          <ng-container matColumnDef="nic_number">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> NIC Number </th>
            <td mat-cell *matCellDef="let row"> {{row.nic_number}}  </td>
          </ng-container>
      
       
      
        
          <!-- -->
          <ng-container matColumnDef="location">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Location </th>
            <td mat-cell *matCellDef="let row">
            {{row.location.state}} , {{row.location.city}} ,{{row.location.address}} ,{{row.location.point}} 
              </td>
          </ng-container>
      
          <!-- -->
          
       
          <!-- -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Actions</th>
            <td mat-cell *matCellDef="let row">
              <button mat-icon-button color="primary" (click)="open_edit_form(row.id)">
                <mat-icon>edit</mat-icon>
              </button>

              <button mat-icon-button (click)="delete_agent(row.id)" color="warn" >
                <mat-icon>delete</mat-icon>
              </button>
               
            </td>
               
          </ng-container>
          
      

            
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      
          <!-- Row shown when there is no matching data. -->
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
          </tr>
        </table>
      
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
      </div>
      
      
</div>




</div>